<div class="booking-summary" ng-if="currentPageIndex < 4">

    <select
        ng-model="SharedResource.sharedData.selectedCurrency"
        ng-options="currency.value for currency in SharedResource.sharedData.currencies">
    </select>

    <br />

    <h1>SUMMARY</h1>

    <!-- main tour -->
    <div class="clearfix" ng-repeat="date in SharedResource.sharedData.trip.dates">

        <div class="fade" ng-if="date.selected">

            <!--pre trips-->
            <div class="clearfix" ng-repeat="tour in SharedResource.sharedData.trip.tours">

                <div class="fade" ng-if="tour.type === 'pre' && tour.selected">

                    <br />
                    <i>Pre Trip Tour:</i>
                    <h2>{{ tour.title }}
                    </h2>

                    <div class="booking-summary-date-wrapper">

                        <span class="booking-summary-month">{{ date.from.month }}
                        </span>

                        <span class="booking-summary-day">{{ date.from.date - tour.days }}
                        </span>

                        <span class="booking-summary-year">{{ date.from.year }}
                        </span>

                    </div>

                    <div class="booking-summary-divider">
                        <span class="booking-summary-arrow">&#10140;
                        </span>
                    </div>

                    <div class="booking-summary-date-wrapper">

                        <span class="booking-summary-month">{{ date.from.month }}
                        </span>

                        <span class="booking-summary-day">{{ date.from.date }}
                        </span>

                        <span class="booking-summary-year">{{ date.from.year }}
                        </span>

                    </div>

                    <br />
                    <br />

                    <hr />

                    <div class="clearfix">

                        <div class="float-left">
                            {{ SharedResource.sharedData.trip.totalGuests }} guest<span ng-if="SharedResource.sharedData.trip.totalGuests !== 1">s</span>
                        </div>

                        <div class="float-right">
                            {{ tour.perPerson * SharedResource.sharedData.trip.totalGuests | currency }}
                        </div>

                    </div>

                    <hr />

                </div>

            </div>


            <br />
            <h2>{{ SharedResource.sharedData.trip.name }}
            </h2>

            <div class="clearfix">

                <div class="booking-summary-date-wrapper">

                    <span class="booking-summary-month">{{ date.from.month }}
                    </span>

                    <span class="booking-summary-day">{{ date.from.date }}
                    </span>

                    <span class="booking-summary-year">{{ date.from.year }}
                    </span>

                </div>

                <div class="booking-summary-divider">
                    <span class="booking-summary-arrow">&#10140;
                    </span>
                </div>

                <div class="booking-summary-date-wrapper">

                    <span class="booking-summary-month">{{ date.to.month }}
                    </span>

                    <span class="booking-summary-day">{{ date.to.date }}
                    </span>

                    <span class="booking-summary-year">{{ date.to.year }}
                    </span>

                </div>

            </div>

            <hr />

            <div class="clearfix">

                <div class="float-left">
                    {{ SharedResource.sharedData.trip.totalGuests }} guest<span ng-if="SharedResource.sharedData.trip.totalGuests !== 1">s</span>
                </div>

                <div class="float-right">
                    {{ SharedResource.sharedData.trip.totalGuestCost | currency }}
                </div>

            </div>

            <hr />

            <!--post trips-->
            <div class="clearfix" ng-repeat="tour in SharedResource.sharedData.trip.tours">

                <div class="fade" ng-if="tour.type === 'post' && tour.selected">

                    <br />
                    <i>Post Trip Tour:</i>
                    <h2>{{ tour.title }}
                    </h2>

                    <div class="booking-summary-date-wrapper">

                        <span class="booking-summary-month">{{ date.to.month }}
                        </span>

                        <span class="booking-summary-day">{{ date.to.date }}
                        </span>

                        <span class="booking-summary-year">{{ date.to.year }}
                        </span>

                    </div>

                    <div class="booking-summary-divider">
                        <span class="booking-summary-arrow">&#10140;
                        </span>
                    </div>

                    <div class="booking-summary-date-wrapper">

                        <span class="booking-summary-month">{{ date.to.month }}
                        </span>

                        <span class="booking-summary-day">{{ (date.to.date - 0 + tour.days) }}
                        </span>

                        <span class="booking-summary-year">{{ date.to.year }}
                        </span>

                    </div>

                    <br />
                    <br />

                    <hr />

                    <div class="clearfix">

                        <div class="float-left">
                            {{ SharedResource.sharedData.trip.totalGuests }} guest<span ng-if="SharedResource.sharedData.trip.totalGuests !== 1">s</span>
                        </div>

                        <div class="float-right">
                            {{ tour.perPerson * SharedResource.sharedData.trip.totalGuests | currency }}
                        </div>

                    </div>

                    <hr />

                </div>

            </div>

        </div>


    </div>

    <br />

    <div class="clearfix">

        <div class="float-left">
            <b>TOTAL
            </b>
        </div>

        <div class="float-right">
            <b>{{ SharedResource.sharedData.trip.totalGuestCost | currency }}
            </b>
        </div>

    </div>

    <div class="clearfix">

        <div class="float-left">
            DEPOSIT
        </div>

        <div class="float-right">
            {{ SharedResource.sharedData.trip.totalGuestCost*.1 | currency }}
        </div>

    </div>

    <br />

    <div class="clearfix">

        <a ng-if="nextPage.label && !bookingform.$invalid" ng-href="#/{{ tripName }}/{{ nextPage.label }}"
            class="call-to-action float-right">CONTINUE <span class="icon icon-arrow-right"></span>
        </a>

        <div ng-show="bookingform.$invalid" class="warning">
            Please complete form before continuning.
        </div>

    </div>

</div>